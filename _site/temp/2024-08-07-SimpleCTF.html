<!DOCTYPE html>
<html>
<head>
  <head>
    <!-- Include Meta Tags Here -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1 user-scalable=no, shrink-to-fit=no">
<meta content='#000000' name='theme-color'/>
<meta name="keywords" content="Site, Template, Theme">
<title>Jose's Portfolio | Simple CTF</title>

<!-- Open Graph general (Facebook, Pinterest & Google+) -->
<meta name="og:title" content="Jose's Portfolio | Simple CTF">
<meta name="og:description" content="Beginner level ctf room">
<meta name="og:image" content="../assets/images/Rooms/SimpleCTF/sctf.png">
<meta name="og:image:alt" content="Jose's Portfolio | Simple CTF">
<meta name="og:url" content="http://localhost:4000/temp/2024-08-07-SimpleCTF">
<meta name="article:author" content="https://www.facebook.com/">
<meta name="og:site_name" content="Jose's Portfolio | Simple CTF">
<meta name="og:type" content="website">
<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image"/>
<meta name="twitter:title" content="Jose's Portfolio | Simple CTF">
<meta name="twitter:description" content="Beginner level ctf room">
<meta name="twitter:site" content="@">
<meta name="twitter:creator" content="@">
<meta name="twitter:image:src" content="../assets/images/Rooms/SimpleCTF/sctf.png">
<!-- Search Engine -->
<meta name="description" content="Beginner level ctf room">
<meta name="image" content="../assets/images/Rooms/SimpleCTF/sctf.png">
<!-- Schema.org for Google -->
<meta itemprop="name" content="Jose's Portfolio | Simple CTF">
<meta name="author" content="Jose Luis Venega"/>
<meta itemprop="description" content="Beginner level ctf room">
<meta itemprop="image" content="../assets/images/Rooms/SimpleCTF/sctf.png">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', '');
</script>
    <title>Jose's Portfolio</title>
    <link rel="stylesheet" href="/assets/css/style.css">
      <!-- Incluye el CSS de Prism.js -->
    <link rel="stylesheet" href="../prism.css">
    <script src="https://kit.fontawesome.com/6a97161b76.js" crossorigin="anonymous"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    
    <link rel="shortcut icon" href="/assets/images/favicon.png" type="image/x-icon">
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var titleElement = document.getElementById('page-title');
            var icon = "/assest/images/favicon.png"; // Puedes usar cualquier emoji o icono aquí
            titleElement.textContent = icon + " " + titleElement.textContent;
        });
    </script>
</head>
</head>

<body>
  <nav class="navbar is-black is-fixed-top" role="navigation" aria-label="main navigation" id="navbar">
    <div class="container">

        <!-- logo or branding image on left side -->
       
        <!-- Logo o imagen de marca en el lado izquierdo -->
        <div class="navbar-brand">
            <a class="navbar-item"
                href="http://localhost:4000/">
                    <img src="/assets/images/favicon.png" 
                        alt="Site Icon" 
                        style="width: 24px; height: 24px; vertical-align: middle; margin-right: 8px;">
                    <i class="/assest/images/favicon.png"></i>
                    <strong>Jose's Portfolio</strong>
                </a>
            <div class="navbar-burger" data-target="navbar-menu">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>

        <!-- children of navbar-menu must be navbar-start and/or navbar-end -->
        <div class="navbar-menu has-background-black" id="navbar-menu">
            <!-- navbar items | left side -->
            <!-- <div class="navbar-start">
            </div> -->
            <!-- navbar items | right side -->
            <div class="navbar-end">
                <a class="navbar-item "
                    href="http://localhost:4000/">HOME</a>
                <a class="navbar-item" href="http://localhost:4000/#about">WHOAMI</a>
                <a class="navbar-item" href="http://localhost:4000/#contact">CONTACT</a>
                <a class="navbar-item "
                    href="http://localhost:4000/blog">MACHINES</a>
            </div>
        </div>
    </div>
</nav>
<!-- Bulma Navbar JS -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        /* Get all "navbar-burger" elements */
        var $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
        /* Check if there are any navbar burgers */
        if ($navbarBurgers.length > 0) {
            /* Add a click event on each of them */
            $navbarBurgers.forEach(function ($el) {
                $el.addEventListener('click', function () {
                    /* Get the target from the "data-target" attribute */
                    var target = $el.dataset.target;
                    var $target = document.getElementById(target);
                    /* Toggle the class on both the "navbar-burger" and the "navbar-menu" */
                    $el.classList.toggle('is-active');
                    $target.classList.toggle('is-active');
                });
            });
        }
    });
</script>
  <section class="hero is-fullheight has-text-centered" id="post">
    <div class="hero-body">
      <div class="container">
        <a href="/temp/2024-08-07-SimpleCTF" class="has-text-black" id="title">
          <h1 class="title has-text-centered is-2 has-text-weight-semibold ">Simple CTF</h1>
        </a>
        <hr class="has-background-black">
        <div class="columns is-variable is-5 has-text-centered">
          <div class="column is-6">
            <div style="text-align: center;">
              <img src="../assets/images/Rooms/SimpleCTF/sctf.png" alt="Simple CTF" id="post-image">
            </div>
          </div>
          <div class="subtitle column is-5 has-text-left-desktop has-text-left-fullhd has-text-left-tablet has-text-center-mobile" style="text-align: left;">
            
            <p id="description" class="content is-small has-text-weight-medium is-uppercase">
              Beginner level ctf room
            </p>
            <p class="subtitle is-uppercase is-6 has-text-weight-normal has-text-black-ter">LAB LINK: 
              <b><a href="https://tryhackme.com/r/room/easyctf" target="page.enlace">Simple CTF</a></b>
            </p>
            
            <!-- Dificultad -->
            <p class="subtitle is-6 is-uppercase has-text-weight-normal has-text-black-ter">Difficulty: 
              <b>
                <span class="tag difficulty fácil">
                  Fácil
                </span>
              </b>
            </p>

            <!-- Sistema Operativo -->
            

            <!-- Skills -->
            
          </div>
        </div>
        <div class="content has-text-justified-desktop has-text-justified-fullhd has-text-justified has-text-justified-tablet has-text-left-mobile">
          <p><h1 id="usertxt">User.txt</h1>
<p>Primero de todo vamos a realizar un escaneo de puertos mediante el uso de la herramienta <code class="language-plaintext highlighter-rouge">nmap</code> para ver que información podemos encontrar:</p>

<div>
  <table>
    <tr>
      <td>
        <div style="text-align:center;">
          <img src="../assets/images/Rooms/SimpleCTF/Untitled.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:900px;" />
        </div>
      </td>
      <td>
        <div style="text-align:center;">
          <img src="../assets/images/Rooms/SimpleCTF/Untitled 1.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:600px;" />
        </div>
      </td>
    </tr>
  </table>
</div>

<p>Finalmente, encontramos que el puerto 80 <em>HTTP</em> es una página web y por tanto vamos a acceder a ella, además encontramos un puerto 21 <em>FTP</em> protocolo para enviar archivos y un puerto 2222 que está siendo como servicio <em>SSH</em>.</p>

<p>De primeras descartamos el inicio de sesión al servidor mediante <em>SSH</em> debido a que no tenemos las credenciales, pero tenemos una página web y un servidor <em>FTP</em>. Comenzaremos por la página web donde haremos <strong>fuzzing</strong> para descubrir directorios ocultos de la misma:</p>

<p>Primero accedemos a la web y vemos que estamos ante una página por defecto de Ubuntu, donde no hay información relevante.</p>

<div style="text-align:center;">
  <img src="../assets/images/Rooms/SimpleCTF/Untitled 2.png" alt="Untitled" onclick="openModal(this.src)" style="width:50%;" />
</div>

<p>Como hemos comentado antes, vamos a relizar una enumeración de los directorios ocultos de la web → <code class="language-plaintext highlighter-rouge">gobuster dir -url &lt;ip_maquina&gt; -w &lt;wordlist_a_usar&gt;</code></p>

<div style="text-align:center;">
  <img src="../assets/images/Rooms/SimpleCTF/Untitled 3.png" alt="Untitled" onclick="openModal(this.src)" style="width:50%;" />
</div>
<p>hemos encontrado varios directorios como <code class="language-plaintext highlighter-rouge">/robots.txt</code> y <code class="language-plaintext highlighter-rouge">/simple</code>:</p>

<div>
  <table>
    <tr>
      <td>
        <div style="text-align:center;">
        <h1>/robots.txt</h1>
          <img src="../assets/images/Rooms/SimpleCTF/Untitled 4.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:670px;" />
        </div>
      </td>
      <td>
        <div style="text-align:center;">
        <h1>/simple</h1>
          <img src="../assets/images/Rooms/SimpleCTF/Untitled 5.png" alt="Untitled" onclick="openModal(this.src)" style="width:100%; max-width:900px;" />
        </div>
      </td>
    </tr>
  </table>
</div>

<p>En efecto, esto nos lleva a otra web, a ver si podemos encontrar información.</p>

<div style="text-align:center;">
  <img src="../assets/images/Rooms/SimpleCTF/Untitled 6.png" alt="Untitled" onclick="openModal(this.src)" style="width:50%;" />
</div>

<p>Vemos que encontramos una linea de texto que dice ‘<em>If this is your site click <a href="">here</a> to login</em>’. Si pinchamos en <em>here</em> encontramos un panel de login.
Corresponde a un <strong>CMS</strong> (software que permite a los usuarios crear, gestionar y modificar contenido en un sitio web sin necesidad de conocimientos técnicos profundos en programación), pero estos pueden presentar alguna vulnerabilidad.</p>

<p>Vamos a hacer uso de la herramienta <em>searchsploit</em> para buscar las vulnerabilidades, pero para ello tenemos que saber la versión del CMS que la podemos consultar inspeccionando la página web.</p>

<div style="text-align:center;">
  <img src="../assets/images/Rooms/SimpleCTF/Untitled 7.png" alt="Untitled" onclick="openModal(this.src)" style="width:50%;" />
</div>

<p>Vamos a la web que contiene el script y lo descargamos, medianto el comando <code class="language-plaintext highlighter-rouge">searchsploit -m PATH</code>.</p>

<p>Si ese script no nos funciona, podemos hacer uso de este también -&gt; <a href="https://github.com/pedrojosenavasperez/CVE-2019-9053-Python3">CVE-2019-9053-Python3</a>. Esto puede suceder debido a que el anterior solo funciona en python2.7.</p>

<p>Mediante <code class="language-plaintext highlighter-rouge">python3 exploit.py -u &lt;url&gt; --crack -w &lt;ruta_wordlist&gt;</code> vamos a comprobar si el script del exploit funciona y tener la password, donde <code class="language-plaintext highlighter-rouge">-u</code> (url de la web), <code class="language-plaintext highlighter-rouge">—crack</code>(indicamos que vamos a proceder a crackear una password), <code class="language-plaintext highlighter-rouge">-w</code> (parámetro para la wordlist).</p>
<div style="text-align:center;">
  <img src="../assets/images/Rooms/SimpleCTF/Untitled 8.png" alt="Untitled" onclick="openModal(this.src)" style="width:50%;" />
</div>

<p>Gracias a esto, hemos conseguido un usuario y su contraseña, pero esta está cifrada, la desciframos haciendo uso de una web y luego, realizamos una conexión ssh con las credenciales que hemos obtenidos:</p>

<div style="text-align:center;">
  <img src="../assets/images/Rooms/SimpleCTF/Untitled 9.png" alt="Untitled" onclick="openModal(this.src)" style="width:50%;" />
</div>

<p>Estamos dentro del servidor y podemos hacer una búsqueda con <code class="language-plaintext highlighter-rouge">find / -type f -name user.txt 2&gt;/dev/null</code> y esto nos devuelve donde se encuentra la flag.</p>

<div style="text-align:center;">
  <img src="../assets/images/Rooms/SimpleCTF/Untitled 10.png" alt="Untitled" onclick="openModal(this.src)" style="width:50%;" />
</div>

<p>Hemos encontrado la flag.</p>

<p>Si hacemos <code class="language-plaintext highlighter-rouge">cd ..</code> encontramos los directorios <em>mitch</em>(se encuentra la user.txt) y <em>sunbath</em>.</p>

<h1 id="roottxt">Root.txt</h1>

<p>Vamos a acceder al directorio sunbath con <code class="language-plaintext highlighter-rouge">cd sunbath</code> , nos salta un error de que no tenemos permisos para acceder al mismo, es decir, tendremos que buscar una manera de escalar privilegios. Podemos hacerlo de varias maneras pero en primera instancia podemos probar a ver que comandos puede ejecutar como root el usuario mitch → <code class="language-plaintext highlighter-rouge">sudo -l</code>:</p>

<div style="text-align:center;">
  <img src="../assets/images/Rooms/SimpleCTF/Untitled 11.png" alt="Untitled" onclick="openModal(this.src)" style="width:50%;" />
</div>

<p>Vemos que mitch puede ejecutar como root el comando <code class="language-plaintext highlighter-rouge">/usr/bin/vim</code> para saber como explotar esto vamos a <a href="https://gtfobins.github.io/gtfobins/vim/#sudo">GTFObins-Vim-Sudo</a> para poder obtener información sobre el exploit.</p>

<div style="text-align:center;">
  <img src="../assets/images/Rooms/SimpleCTF/Untitled 12.png" alt="Untitled" onclick="openModal(this.src)" style="width:50%;" />
</div>

<p>Ahora realizamos el exploit y hacemos <code class="language-plaintext highlighter-rouge">bash</code> para poder poner una consola normal y buscamos la flag.</p>

<div style="text-align:center;">
  <img src="../assets/images/Rooms/SimpleCTF/Untitled 13.png" alt="Untitled" onclick="openModal(this.src)" style="width:50%;" />
</div>

<hr />
</p>
        </div>
        
        <div class="disqus-comments" id="disqus_thread"></div>
        
      </div>
    </div>
  </section>
  <footer id="footer">
    <!--Footer Button-->
    <div class="container has-text-centered has-background-grey-darker" id="backtotop">
        <a class="has-text-white" onclick="window.scroll(0,0)">BACK TO TOP</a>
    </div>
    <!--Footer Main Section-->
    <!-- <div class="has-background-grey-darker">
        <div class="container columns">
            Name Section-->
            <!-- <div class="column has-text-left-desktop has-text-centered-mobile">
                <a href="http://localhost:4000/#about">
                    <div class="columns">
                        <div class="column is-one-fifth-desktop is-one-fifth-fullhd is-one-quarter-tablet">
                            <figure class="image is-64x64">
                                <img class="is-rounded" src="/assets/images/me.png">
                            </figure>
                        </div>
                        <div class="column is-marginless">
                            <h5 class="has-text-grey-lighter">Jose Luis Venega</h5>
                            <div class="content has-text-grey">
                                <p>Hi! I'm Jose Luis Venega, a Computer Engineering student at the Universi...</p>
                            </div>
                        </div>
                    </div>
                </a>
            </div> -->

            <!--Link Section
            <div class="column has-text-white">
                <h3>More Links</h3>
                
                <li>
                    <a target="_blank" href="http://localhost:4000/feed.xml">Subscribe via RSS</a>
                </li>
            </div> -->

            <!--Blog-post Section-->
            <!-- <div class="column has-text-white">
                <h3>Recent Posts</h3>
                
                <li>
                    <a href="http://localhost:4000/blog/Cicada">Cicada</a>
                </li>
                
                <li>
                    <a href="http://localhost:4000/blog/Chemistry">Chemistry</a>
                </li>
                
            </div>
        </div> -->
    </div>
    <div class="has-background-black has-text-centered has-text-white" id="credits">
        <i class="far fa-copyright"></i> 2024 | A Theme made by <a href="https://github.com/Joseeelv" target="_blank" rel="noopener noreferrer">Joseeelv</a> Powered by <a href="https://jekyllrb.com/" target="_blank">Jekyll</a>
    </div>
</footer>

  <!-- Modal -->
  <div id="myModal" class="modal">
    <span class="close" onclick="closeModal()">&times;</span>
    <img class="modal-content" id="img01">
  </div>

  <!-- Prism.js Script -->
  <script src="../prism.js"></script>
  <script>
    function copyToClipboard(event) {
      const button = event.target;
      const codeContainer = button.closest('.code-container');
      const codeElement = codeContainer.querySelector('code');
    
      if (!codeElement) {
        console.error('No se encontró el elemento <code> para copiar.');
        return;
      }

      const code = codeElement.textContent;

      navigator.clipboard.writeText(code).then(() => {
        button.textContent = 'Copied!';

        setTimeout(() => {
          button.textContent = 'Copy';
        }, 2000); // 2000 ms = 2 segundos

      }).catch(err => {
        console.error('Error al copiar al portapapeles: ', err);
      });
    }

    document.querySelectorAll('.copy-button').forEach(button => {
      button.addEventListener('click', copyToClipboard);
    });

    function openModal(imgSrc) {
      var modal = document.getElementById("myModal");
      var modalImg = document.getElementById("img01");

      modal.style.display = "block";
      setTimeout(function() {
        modal.classList.add('show');
      }, 10); // Delay to trigger the animation
      modalImg.src = imgSrc;
    }

    function closeModal(event) {
      if (event) event.stopPropagation();
      var modal = document.getElementById("myModal");
      modal.classList.remove('show');
      setTimeout(function() {
        modal.style.display = "none";
      }, 300); // Match this duration with the CSS animation duration
    }

    window.onclick = function(event) {
      var modal = document.getElementById("myModal");
      if (event.target == modal) {
        closeModal();
      }
    }
  </script>
</body>
</html>
